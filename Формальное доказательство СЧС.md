Допустим **последняя цифра PQ всегда совпадает с NK.**  

Гипотеза СЧС:

Для любого натурального числа N≥1 , разбитого на m≥2 натуральных частей, и умноженного на натуральное число k : 

Либо PQ = NK (полное совпадение)

Либо совпадают начало и конец

Либо совпадает только конец

Но ни в одном случае нет полного несовпадения

Эмперический вывод:

Везде и всегда, для любого типа совпадения, совпадает конец 

**Это ключевой инвариант гипотезы**

Даже в диапазоне от 20 до 30 миллионов встречается только полное совпадение или совпадение начала и конца , но конец всё равно всегда совпадает .

Важное наблюдение:

Если последняя цифра всегда совпадает , то проверка по концу является необходимым условием для выполнения всех других типов совпадений . 

**Теорема о конце (Last Digit Invariance Theorem)**

Формулировка: для любого натурального числа N≥1 , разбитого на m≥2 натуральных частей, и умноженного на натуральное число k , результат объединения умноженных частей как строки PQ всегда имеет ту же последнюю цифру , что и классическое произведение NK = N * k .

То есть: 

last_digit(PQ) = last_digit(NK)

Доказательство:

Пусть N = A1, A2...Am
​
Где N — натуральное число, представленное строкой

A1, A2, ..., Am — его части после разбиения

При умножении по частям получаем:

PQ = string(A1 * k)*string(A2 * k)...string(Am * k)

Обозначим B = Am
​
Где B — последняя часть исходного числа.

После умножения:

Bk = B * k

Так как при объединении частей последняя цифра PQ определяется именно Bk, то:

last_digit(PQ) = (B * k) mod 10

Рассмотрим классическое умножение:

NK = N * k = (a * 10 + B) * k = a * 10 * k + B * k

a * 10 * k — оканчивается на ноль ⇒ last_digit(NK) = (B * k) mod 10 = last_digit(PQ)

Следовательно:

Для любого натурального N и любого натурального числа k :

Последняя цифра PQ всегда равна последней цифре N * K 

Теперь вернёмся к вопросу о невозможным совпадении только по началу: 

За всю историю проверок( между PQ и N * k ):

- Было много случаев полного совпадения
- Было ещё больше совпадений по началу и концу
- Было много совпадений только по концу
- Но ни одного случая только по началу
- Это говорит о том, что конец — более стабильная и устойчивая часть , чем начало.

Значит, можно сделать следующий акцент:

Конец числа инвариантен относительно гипотезы СЧС.

Начало может отличаться между PQ и N * k, но конец — нет. 

**Новое обоснование гипотезы через теорему о конце**

Можно сделать следующее утверждение:

Поскольку конец PQ **всегда** совпадает с концом NK , то: 

Совпадение только по началу невозможно , потому что тогда нарушается инвариантность конца

***Все три типа совпадений :**
- Полное совпадение
- Совпадают начало и конец
- Совпадает только конец

Выводятся из одного фундаментального факта : конец числа сохраняется после преобразования  

Математически.

Если: 

PQ = string(A1 * k)⋅string(A2 * k)...string(Am * k)
 
NK = N * k

И:

last_digit(PQ) = last_digit(N * K)

То тогда:

- Совпадение только по началу невозможно
- Всегда будет либо полное совпадение, либо совпадение по концу, либо по обоим.

**Что и требовалось доказать!**
